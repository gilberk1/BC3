<!doctype html>
<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
	<script type="text/javascript" src="jso-master/dist/jso.js"></script>
<!-- 	<script src="https://jpillora.com/xdomain/dist/0.6/xdomain.min.js" slave="http://www.karigilbertson.com/proxy.html"></script>
 -->	<script>
		var token = new URL("https://gilberk1.github.io/BC3/success.html#access_token=BAhbB0kiAcJ7ImNsaWVudF9pZCI6ImM2MzUxYmYxZWMzMmY5MzAxMGIxZDM4Y2VlYWVhNmUxMzhkOGU3ZDIiLCJleHBpcmVzX2F0IjoiMjAxOC0wNi0yN1QwMjoyMjozNloiLCJ1c2VyX2lkcyI6WzMzODcxODQ2LDMzODk2MjExLDMzODk2NjYzXSwidmVyc2lvbiI6MSwiYXBpX2RlYWRib2x0IjoiNjRkOTU2YjZkNmVmMDE3ZGI5ZGQ4NGVlZjBlNjBiZWYifQY6BkVUSXU6CVRpbWUNYpcdwOfOTFoJOg1uYW5vX251bWkCvAI6DW5hbm9fZGVuaQY6DXN1Ym1pY3JvIgZwOgl6b25lSSIIVVRDBjsARg%3D%3D--2ee482cfddfbdbde5e8da1387b9b67e21a5c9b1b&expires_in=1209600").hash.split('&').filter(function(el) {
			if(el.match('access_token') !== null)
				return true;
		})[0].split('=')[1];

		$.ajax({
         url:"https://3.basecamp.com/3823897/projects.json?callback=bcData",
         type:"GET",
         dataType:"jsonp",
         // jsonpCallback: 'bcData',
         // jsonp: 'callback',
         beforeSend: function(request) {
    		request.setRequestHeader('Authorization', 'Bearer ' + token);
  		 },
         // success:function(data)
         // {
         //    console.log(data);
         // },
         // error:function(jqXHR,textStatus,errorThrown)
         // {
         //    console.log("You can not send Cross Domain AJAX requests: "+errorThrown);
         // }
        });

        function bcData (data) {
        	console.log(data);
        }

	</script>
</head>
<body>
<p>Success!</p>
</body>
</html>